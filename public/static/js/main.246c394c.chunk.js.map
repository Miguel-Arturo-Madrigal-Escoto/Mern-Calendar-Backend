{"version":3,"sources":["fixtures/initialStates.js","hooks/useForm.js","components/auth/FeedbackForm.jsx","firebase/config.js","helpers/fetch.js","types/types.js","helpers/prepare-events.js","actions/calendar.js","actions/auth.js","components/auth/GoogleAuthButton.jsx","components/auth/GithubAuthButton.jsx","components/auth/LoginScreen.jsx","hooks/useValidate.js","components/calendar/CalendarEvent.jsx","helpers/modal-styles.js","actions/ui.js","components/calendar/CalendarModal.jsx","components/ui/Navbar.jsx","helpers/calendar-messages-es.js","components/ui/AddNewFab.jsx","components/ui/DeleteEventFab.jsx","components/calendar/CalendarScreen.jsx","components/ui/LoadingSpinner.jsx","routers/PrivateRoute.js","routers/PublicRoute.js","routers/AppRouter.js","reducers/authReducer.js","reducers/calendarReducer.js","reducers/uiReducer.js","reducers/rootReducer.js","store/store.js","CalendarApp.jsx","index.js"],"names":["initialStateLogin","lEmail","lPassword","initialStateRegister","rName","rEmail","rPassword","rPassword2","initialCheckValues","initialValidationResults","rEmailValid","rPasswordValid","rPasswordValid2","useForm","initialForm","_useState","useState","_useState2","Object","slicedToArray","formValues","setFormValues","_ref","target","objectSpread","defineProperty","name","value","FeedbackForm","positive","negative","react_default","a","createElement","react","className","googleAuthProvider","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","getFirestore","GoogleAuthProvider","githubAuthProvider","GithubAuthProvider","baseUrl","process","fetchWithoutToken","endpoint","data","method","arguments","length","undefined","url","concat","fetch","headers","Content-type","body","JSON","stringify","fetchWithToken","token","localStorage","getItem","x-token","types","prepareEvents","map","e","end","moment","toDate","start","eventStartAddNew","event","asyncToGenerator","regenerator_default","mark","_callee","dispatch","getState","_getState$auth","uid","resp","wrap","_context","prev","next","auth","sent","json","ok","_id","user","eventAddNew","t0","console","log","stop","_x","_x2","apply","this","type","payload","eventUpdated","eventLoaded","events","eventSetActive","eventDeleted","checkingFinish","login","startLogout","tokenLocalStorage","tokenInitDateLocalStorage","removeItem","logout","GoogleAuthButton","useDispatch","onClick","_ref3","_callee4","_context4","getAuth","signInWithPopup","then","_ref5","_callee3","_ref4","error","_context3","email","displayName","setItem","Date","getTime","errors","msg","Swal","fire","_x4","catch","err","_x3","src","alt","GithubAuthButton","_ref6","_callee6","_context6","_ref8","_callee5","_ref7","_context5","_x6","_ref9","code","_x5","LoginScreen","_useForm","_useForm2","formLoginValues","handleLoginInputChange","_useForm3","_useForm4","formRegisterValues","handleRegisterInputChange","_useValidate","checkValues","setCheckValues","_useState3","_useState4","resultsValidate","setResultsValidate","useEffect","validator","isEmail","isStrongPassword","equals","useValidate","_useValidate2","handleInputCheckValues","validationResults","handleInputChange","onSubmit","password","preventDefault","placeholder","onChange","_ref2","_callee2","_context2","FeedbackForm_FeedbackForm","GoogleAuthButton_GoogleAuthButton","GithubAuthButton_GithubAuthButton","CalendarEvent","title","customStyles","content","top","left","right","bottom","marginRight","transform","uiOpenModal","Modal","setAppElement","now","minutes","seconds","add","nowPlusOne","clone","initEvent","notes","CalendarModal","activeEvent","useSelector","state","calendar","modalOpen","ui","setDateStart","setEndStart","_useState5","_useState6","isTitleValid","setIsTitleValid","_useState7","_useState8","closeModal","trim","lib_default","isOpen","onRequestClose","style","overlayClassName","closeTimeoutMS","momentStart","isSameOrBefore","icon","text","id","entry_default","format","amPmAriaLabel","autoComplete","rows","ai_index_esm","Navbar","bi_index_esm","size","io_index_esm","messages","allDay","previous","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","AddNewFab","bs_index_esm","DeleteEventFab","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","_x7","locale","localizer","momentLocalizer","CalendarScreen","_useSelector","view","setView","Navbar_Navbar","react_big_calendar_esm","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","borderRadius","color","opacity","onSelectEvent","onDoubleClickEvent","onView","onSelectSlot","action","_e$title","_e$notes","selectable","components","AddNewFab_AddNewFab","DeleteEventFab_DeleteEventFab","CalendarModal_CalendarModal","LoadingSpinner","react_loader_spinner_esm","height","width","ariaLabel","PrivateRoute","children","react_router","to","PublicRoute","AppRouter","checking","_ref10","_callee7","_context7","abrupt","LoadingSpinner_LoadingSpinner","react_router_dom","path","element","PublicRoute_PublicRoute","LoginScreen_LoginScreen","PrivateRoute_PrivateRoute","CalendarScreen_CalendarScreen","initialState","rootReducer","combineReducers","toConsumableArray","filter","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","CalendarApp","es","AppRouter_AppRouter","render","CalendarApp_CalendarApp","document","getElementById"],"mappings":"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","file":"static/js/main.246c394c.chunk.js","sourcesContent":["\r\nconst initialStateLogin = {\r\n    lEmail: '',\r\n    lPassword: '',\r\n}\r\n\r\nconst initialStateRegister = {\r\n    rName: '',\r\n    rEmail: '',\r\n    rPassword: '',\r\n    rPassword2: '',\r\n}\r\n\r\nconst initialCheckValues = {\r\n    rEmail: '',\r\n    rPassword: '',\r\n    rPassword2: ''\r\n}\r\n\r\nconst initialValidationResults = {\r\n    rEmailValid: false,\r\n    rPasswordValid: false,\r\n    rPasswordValid2: false,\r\n}\r\n\r\nexport {\r\n    initialStateLogin,\r\n    initialStateRegister,\r\n    initialValidationResults,\r\n    initialCheckValues\r\n}","import { useState } from 'react';\r\n\r\nexport const useForm = (initialForm) => {\r\n\r\n    const [ formValues, setFormValues ] = useState(initialForm);\r\n\r\n    // Recibe el evento 'e'\r\n    const handleInputChange = ({ target }) => {\r\n        setFormValues({\r\n            ...formValues,\r\n            [ target.name ]: target.value\r\n        })\r\n    }\r\n\r\n    const reset = (initialForm) => {\r\n        setFormValues(initialForm);\r\n    }\r\n\r\n    return [ formValues, handleInputChange, reset ];\r\n\r\n}\r\n\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nexport const FeedbackForm = ({ positive, negative }) => {\r\n    return (\r\n      <Fragment>\r\n        \r\n        {\r\n            positive && \r\n            (\r\n              <div className=\"valid-feedback\">\r\n                { positive }\r\n              </div>\r\n            )\r\n            \r\n        }\r\n\r\n        {\r\n            negative && \r\n            (\r\n              <div className=\"invalid-feedback\">\r\n                { negative }\r\n              </div>\r\n            )\r\n            \r\n        }\r\n\r\n      </Fragment>\r\n  )\r\n}\r\n\r\n\r\nFeedbackForm.propTypes = {\r\n    positive: PropTypes.string,\r\n    negative: PropTypes.string\r\n}\r\n\r\n/* FeedbackForm.defaultProps = {\r\n  positive: 'A positive feedback',\r\n  negative: 'A negative feedback'\r\n} */\r\n\r\n\r\n","\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"firebase/firestore\"\r\nimport { GoogleAuthProvider, GithubAuthProvider } from 'firebase/auth';\r\n//import { getAnalytics } from \"firebase/analytics\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBTaCnh_pp6rxQnNsqxVEZ4ug5fhILI5v8\",\r\n  authDomain: \"mern-calendar.firebaseapp.com\",\r\n  projectId: \"mern-calendar\",\r\n  storageBucket: \"mern-calendar.appspot.com\",\r\n  messagingSenderId: \"262050419112\",\r\n  appId: \"1:262050419112:web:b308b88bd8244559edcd9d\",\r\n  measurementId: \"G-RKGSCLMGWT\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n//const analytics = getAnalytics(app);\r\n\r\n// Base de datos\r\nconst db = getFirestore();\r\n\r\n// Auth (Google)\r\nconst googleAuthProvider = new GoogleAuthProvider();\r\nconst githubAuthProvider = new GithubAuthProvider();\r\n\r\nexport {\r\n    db, googleAuthProvider, githubAuthProvider\r\n}","\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\nconst fetchWithoutToken = ( endpoint, data, method = 'GET' ) => {\r\n\r\n    // localhost:4000/api/endpoint\r\n    const url = `${ baseUrl }/${ endpoint }`;\r\n    \r\n    switch (method) {\r\n        case 'GET':\r\n            return fetch(url);\r\n    \r\n        default:\r\n            return fetch(url, {\r\n                method,\r\n                headers: {\r\n                    'Content-type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            });   \r\n    }\r\n}\r\n\r\nconst fetchWithToken = ( endpoint, data, method = 'GET') => {\r\n\r\n    const url = `${ baseUrl }/${ endpoint }`;\r\n    const token = localStorage.getItem('token') || '';\r\n\r\n    switch (method) {\r\n        case 'GET':\r\n            return fetch(url, {\r\n                method,\r\n                headers: {\r\n                    'x-token': token\r\n                }\r\n            });\r\n    \r\n        default:\r\n            return fetch(url, {\r\n                method,\r\n                headers: {\r\n                    'Content-type': 'application/json',\r\n                    'x-token': token\r\n                },\r\n                body: JSON.stringify(data)\r\n            });\r\n\r\n    }\r\n\r\n}\r\n\r\nexport {\r\n    fetchWithoutToken,\r\n    fetchWithToken\r\n}","\r\nexport const types = {\r\n\r\n    uiOpenModal: '[ui] Open modal',\r\n    uiCloseModal: '[ui] Close modal',\r\n\r\n    eventStartAddNew: '[calendar] Start add new',\r\n    eventAddNew: '[calendar] Add new event',\r\n    eventSetActive: '[calendar] Set active event',\r\n    eventUpdated: '[calendar] Event updated',\r\n    eventDeleted: '[calendar] Event deleted',\r\n    eventLoaded: '[calendar] Events loaded',\r\n    eventClear: '[calendar] Events cleared',\r\n\r\n    authCheckingFinish: '[auth] Finished checking state',\r\n    authStartLogin: '[auth] Start login', // asincrona\r\n    authLogin: '[auth] Login', // sincrona\r\n    authStartRegister: '[auth] Start register',\r\n    authStartTokenRenewal: '[auth] Start token renewal',\r\n    authLogout: '[auth] Logout',\r\n\r\n}","import moment from 'moment';\r\n\r\nexport const prepareEvents = (events = []) => {\r\n\r\n    return events.map(\r\n        e => ({\r\n            ...e,\r\n            end: moment(e.end).toDate(),\r\n            start: moment(e.start).toDate(),\r\n        })\r\n    )\r\n\r\n}\r\n\r\n ","import Swal from 'sweetalert2';\r\nimport { fetchWithToken } from '../helpers/fetch';\r\nimport { prepareEvents } from '../helpers/prepare-events';\r\nimport { types } from '../types/types';\r\n\r\n// Asincrono, guardar en la base de datos\r\nexport const eventStartAddNew = (event) => {\r\n\r\n    return async (dispatch, getState) => {\r\n\r\n        const { uid, name } = getState().auth;\r\n\r\n        try {\r\n            \r\n            const resp = await fetchWithToken('events', event, 'POST');\r\n            const body = await resp.json();\r\n\r\n\r\n            if (body.ok){\r\n                event._id = body.event._id\r\n                event.user = {\r\n                    _id: uid,\r\n                    name\r\n                }\r\n                dispatch(eventAddNew(event));\r\n            }\r\n\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n// sincrono, actualizar el store\r\nconst eventAddNew = (event) => ({\r\n    type: types.eventAddNew,\r\n    payload: event\r\n});\r\n\r\n\r\n\r\nexport const eventStartUpdate = (event) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n            // events/eventId\r\n            const resp = await fetchWithToken(`events/${ event._id }`, event, 'PUT');\r\n            const body = await resp.json();\r\n\r\n            if (body.ok){\r\n                // no puede ser el evento que retorna el body porque hay que parsear las fechas con el helper\r\n                dispatch(eventUpdated(event));\r\n            }\r\n            else {\r\n                Swal.fire('Error', body.errors.id.msg, 'error');\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nconst eventUpdated = (event) => ({\r\n    type: types.eventUpdated,\r\n    payload: event\r\n});\r\n \r\n\r\n\r\nexport const eventStartLoading = () => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n            \r\n            const resp = await fetchWithToken('events');\r\n            const body = await resp.json();\r\n            \r\n            if (body.ok){\r\n                const events = prepareEvents(body.events);\r\n                dispatch(eventLoaded(events));\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nconst eventLoaded = (events) => ({\r\n    type: types.eventLoaded,\r\n    payload: events\r\n});\r\n\r\n\r\n\r\nexport const eventSetActive = (event) => ({\r\n    type: types.eventSetActive,\r\n    payload: event\r\n});\r\n\r\n\r\n// Asincrono\r\nexport const eventStartDelete = () => {\r\n\r\n    return async (dispatch, getState) => {\r\n\r\n        const { _id } = getState().calendar.activeEvent;\r\n\r\n        try {\r\n            \r\n        \r\n   \r\n            Swal.fire({\r\n                title: 'Estas seguro?',\r\n                text: 'Esto no ser치 revertible!',\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Si, eliminar!'\r\n                }).then(async (result) => { \r\n                if (result.isConfirmed) {\r\n                    const resp = await fetchWithToken(`events/${ _id }`, {}, 'DELETE');\r\n                    const body = await resp.json();\r\n\r\n                    if (body.ok){\r\n                        dispatch(eventDeleted());\r\n                        Swal.fire(\r\n                            'Eliminado!',\r\n                            'El evento ha sido eliminado correctamente.',\r\n                            'success'\r\n                        )\r\n                    }\r\n                    \r\n                }\r\n                });\r\n                \r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n               \r\n    }\r\n\r\n}\r\n\r\n// sincrono\r\nconst eventDeleted = () => ({ type: types.eventDeleted });\r\n\r\nexport const eventCleared = () => ({ type: types.eventClear });\r\n","import Swal from 'sweetalert2';\r\nimport { googleAuthProvider, githubAuthProvider } from '../firebase/config';\r\nimport { getAuth, signInWithPopup } from 'firebase/auth';\r\nimport { fetchWithoutToken, fetchWithToken } from '../helpers/fetch';\r\nimport { types } from '../types/types';\r\nimport { eventCleared } from './calendar';\r\n//import { fetchWithoutTokenAxios } from '../helpers/fetchAxios';\r\n\r\nexport const startLogin = (email, password) => {\r\n    // asincrona\r\n    return async ( dispatch ) => {\r\n    \r\n        // ** FETCH API ** //\r\n        try {\r\n            \r\n            const resp = await fetchWithoutToken('auth', { email, password }, 'POST');\r\n            const body = await resp.json();\r\n\r\n\r\n            if (body.ok) {\r\n                localStorage.setItem('token', body.token);\r\n                localStorage.setItem('token-init-date', new Date().getTime());\r\n            \r\n                \r\n                dispatch(login({\r\n                    uid: body.uid,\r\n                    name: body.name\r\n                }))\r\n            }\r\n            else {\r\n                const error = body.errors? body.errors.email.msg : body.msg;\r\n\r\n                Swal.fire(\r\n                    'Error',\r\n                    error,\r\n                    'error'\r\n                )\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n               \r\n    }\r\n}\r\n\r\n\r\nexport const startRegister = (name, email, password) => {\r\n    return async (dispatch) => {\r\n\r\n        try {\r\n            \r\n            // ** FETCH API ** //\r\n            const resp = await fetchWithoutToken('auth/new', { name, email, password }, 'POST');\r\n            const body = await resp.json();\r\n\r\n            if (body.ok){\r\n                localStorage.setItem('token', body.token);\r\n                localStorage.setItem('token-init-date', new Date().getTime());\r\n                \r\n                dispatch(login({\r\n                    uid: body.uid,\r\n                    name: body.name\r\n                }));\r\n                \r\n            } else {\r\n                const error = body.errors? body.errors.email.msg : body.msg;\r\n                Swal.fire(\r\n                    'Error',\r\n                    error,\r\n                    'error'\r\n                )\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const startRegisterWithFirebase = () => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        const auth = getAuth();\r\n        signInWithPopup(auth, googleAuthProvider).then( async ({ user }) => {\r\n    \r\n            const data = {\r\n                uid: user.uid,\r\n                email: user.email,\r\n                name: user.displayName\r\n            }\r\n\r\n            const resp = await fetchWithoutToken('auth/login', data, 'POST');\r\n            const body = await resp.json();\r\n\r\n            if (body.ok){\r\n\r\n                localStorage.setItem('token', body.token);\r\n                localStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n                dispatch(login({\r\n                    uid: body.uid,\r\n                    name: body.name\r\n                }))\r\n            }\r\n            else {\r\n                const error = body.errors? body.errors.email.msg : body.msg;\r\n                Swal.fire(\r\n                    'Error',\r\n                    error,\r\n                    'error'\r\n                )\r\n            }\r\n\r\n        }).catch(err => {\r\n\r\n        });\r\n    }\r\n} \r\n\r\nexport const startRegisterWithGithub = () => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        const auth = getAuth();\r\n        signInWithPopup(auth, githubAuthProvider)\r\n        .then(async ({ user }) => {\r\n            const data = {\r\n                uid: user.uid,\r\n                email: user.email,\r\n                name: user.displayName\r\n            }\r\n\r\n            //api\r\n            const resp = await fetchWithToken('auth/login', data, 'POST');\r\n            const body = await resp.json();\r\n\r\n            if (body.ok){\r\n\r\n                localStorage.setItem('token', body.token);\r\n                localStorage.setItem('token-init-date', new Date().getTime());\r\n\r\n                dispatch(login({\r\n                    uid: body.uid,\r\n                    name: body.name\r\n                }))\r\n            }\r\n            else {\r\n                Swal.fire(\r\n                    'Error',\r\n                    'Error en la autenticacion',\r\n                    'error'\r\n                )\r\n            }\r\n        })\r\n        .catch(({ code }) => {\r\n            Swal.fire(\r\n                'Ha ocurrido un error',\r\n                code,\r\n                'error'\r\n            );\r\n        })\r\n\r\n    }\r\n\r\n}\r\n\r\nexport const startChecking = () => {\r\n    return async (dispatch) => {\r\n\r\n        const tokenLocalStorage = !!(localStorage.getItem('token') || '')\r\n\r\n        if (!tokenLocalStorage){\r\n            return dispatch(checkingFinish());\r\n        }\r\n\r\n\r\n        // el token esta en el localstorage\r\n        const resp = await fetchWithToken('auth/renew');\r\n        const body = await resp.json();\r\n\r\n        if (body.ok){\r\n            localStorage.setItem('token', body.token);\r\n            localStorage.setItem('token-init-date', new Date().getTime());\r\n        \r\n            dispatch(login({\r\n                uid: body.uid,\r\n                name: body.name\r\n            }));\r\n            \r\n        }\r\n        /* else {\r\n            Swal.fire(\r\n                'Error',\r\n                body.msg,\r\n                'error'\r\n            )\r\n        } */\r\n\r\n        dispatch(checkingFinish());\r\n    }\r\n}\r\n\r\nconst checkingFinish = () => ({ type: types.authCheckingFinish });\r\n\r\nconst login = ( user ) => ({\r\n    type: types.authLogin,\r\n    payload: user\r\n});\r\n\r\nexport const startLogout = () => {\r\n    return (dispatch) => {\r\n        const tokenLocalStorage = !!(localStorage.getItem('token') || '')\r\n        const tokenInitDateLocalStorage = !!(localStorage.getItem('token-init-date') || '')\r\n        if (tokenLocalStorage && tokenInitDateLocalStorage){\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('token-init-date');\r\n            dispatch(eventCleared());\r\n            dispatch(logout());\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => ({ type: types.authLogout });\r\n\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { startRegisterWithFirebase } from '../../actions/auth';\r\n\r\nimport '../../css/google-btn.css';\r\n\r\n\r\nexport const GoogleAuthButton = () => {\r\n\r\n   const dispatch = useDispatch();\r\n\r\n    const handleLoginWithGoogle = () => {\r\n        dispatch(startRegisterWithFirebase());\r\n    }\r\n\r\n    return (\r\n        <div className=\"google-btn\" onClick={ handleLoginWithGoogle }>\r\n            <div className=\"google-icon-wrapper\">\r\n                <img className=\"google-icon-svg\" src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" alt=\"google icon\"/>\r\n            </div>\r\n            <p className=\"btn-text\"><b>Sign in with Google</b></p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { startRegisterWithGithub } from '../../actions/auth';\r\n\r\nimport '../../css/google-btn.css';\r\n\r\n\r\nexport const GithubAuthButton = () => {\r\n\r\n   const dispatch = useDispatch();\r\n\r\n    const handleLoginWithGoogle = () => {\r\n        dispatch(startRegisterWithGithub());\r\n    }\r\n\r\n    return (\r\n        <div className=\"google-btn\" onClick={ handleLoginWithGoogle }>\r\n            <div className=\"google-icon-wrapper\">\r\n                <img className=\"google-icon-svg\" src=\"https://cdn-icons-png.flaticon.com/512/25/25231.png\" alt=\"github icon\" />\r\n            </div>\r\n            <p className=\"btn-text\"><b>Sign in with GitHub</b></p>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { initialStateLogin, initialCheckValues, initialValidationResults, initialStateRegister } from '../../fixtures/initialStates';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { useValidate } from '../../hooks/useValidate';\r\nimport { FeedbackForm } from './FeedbackForm';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport '../../css/login.css';\r\nimport { startLogin, startRegister } from '../../actions/auth';\r\nimport { GoogleAuthButton } from './GoogleAuthButton';\r\nimport { GithubAuthButton } from './GithubAuthButton';\r\n\r\nexport const LoginScreen = () => {\r\n\r\n    const [ formLoginValues, handleLoginInputChange ] = useForm(initialStateLogin);\r\n    const [ formRegisterValues, handleRegisterInputChange ] = useForm(initialStateRegister);\r\n    const [ , handleInputCheckValues, validationResults ] = useValidate(\r\n        initialCheckValues, initialValidationResults\r\n    );\r\n\r\n    // useDispatch\r\n    const dispatch = useDispatch();\r\n   \r\n\r\n    // Resultados de la validacion\r\n    const { rEmailValid, rPasswordValid, rPasswordValid2  } = validationResults;\r\n\r\n    // Valores del login\r\n    const { lEmail, lPassword } = formLoginValues;\r\n\r\n    // Valores del register\r\n    const { rName, rEmail, rPassword, rPassword2 } = formRegisterValues;\r\n\r\n    const handleLoginSubmit = (e) => {\r\n        e.preventDefault();\r\n        dispatch(startLogin(lEmail, lPassword));\r\n    }\r\n\r\n    const handleRegisterSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (rEmailValid && rPasswordValid && rPasswordValid2) {\r\n            dispatch(startRegister(rName, rEmail, rPassword));\r\n        }\r\n    }\r\n\r\n    const handleInputChange = (e) => {\r\n        handleRegisterInputChange(e); // formRegisterValues\r\n        handleInputCheckValues(e); // formValidateValues\r\n    }\r\n\r\n    return (\r\n        <div className=\"container login-container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 login-form-1\">\r\n                    <h3>Ingreso</h3>\r\n                    <form onSubmit={ handleLoginSubmit }>\r\n                        <div className=\"form-group\">\r\n                            <input \r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Correo\"\r\n                                name=\"lEmail\"\r\n                                value={ lEmail }\r\n                                onChange={ handleLoginInputChange }\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className='form-control'\r\n                                placeholder=\"Contrase침a\"\r\n                                name=\"lPassword\"\r\n                                value={ lPassword }\r\n                                onChange={ handleLoginInputChange }\r\n                            />\r\n                        \r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input \r\n                                type=\"submit\"\r\n                                className=\"btnSubmit\"\r\n                                value=\"Login\" \r\n                            />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"col-md-6 login-form-2\">\r\n                    <h3>Registro</h3>\r\n                    <form onSubmit={ handleRegisterSubmit }>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Nombre\"\r\n                                name=\"rName\"\r\n                                onChange={ handleInputChange }\r\n                                value={ rName }\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"email\"\r\n                                className={ `form-control ${ rEmail && (rEmailValid? 'is-valid' : 'is-invalid') }` }\r\n                                placeholder=\"Correo\"\r\n                                name=\"rEmail\"\r\n                                onChange={ handleInputChange }\r\n                                value={ rEmail }\r\n                            />\r\n                            {\r\n                                rEmail && \r\n                                (\r\n                                    <FeedbackForm \r\n                                        negative={ `Por favor, proporcione un email v치lido.`}\r\n                                        positive={ `Email v치lido.` }\r\n                                    />\r\n                                )\r\n                            }\r\n                            \r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className={ `form-control ${ rPassword && (rPasswordValid? 'is-valid' : 'is-invalid') }` }\r\n                                placeholder=\"Contrase침a\" \r\n                                name=\"rPassword\"\r\n                                onChange={ handleInputChange }\r\n                                value={ rPassword }\r\n                            />\r\n                            {\r\n                                rPassword && \r\n                                (\r\n                                    <FeedbackForm \r\n                                        negative={ `Por favor, proporcione al menos 8 caracteres (mayusculas, minusculas, numeros y c. especiales).`}\r\n                                        positive={ `La contrase침a cumple con los requisitos.` }\r\n                                    />\r\n                                )\r\n                            }\r\n                            \r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input\r\n                                type=\"password\"\r\n                                className={ `form-control ${ rPassword2 && (rPasswordValid2? 'is-valid' : 'is-invalid') }` }\r\n                                placeholder=\"Repita la contrase침a\" \r\n                                name=\"rPassword2\"\r\n                                onChange={ handleInputChange }\r\n                                value={ rPassword2 }\r\n                            />\r\n                            {\r\n                                rPassword2 && \r\n                                (\r\n                                    <FeedbackForm \r\n                                        negative={ `Las contrase침as no coinciden.`}\r\n                                        positive={ `Las contrase침as coinciden.` }\r\n                                    />\r\n                                )\r\n                            }\r\n                            \r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <input \r\n                                type=\"submit\" \r\n                                className=\"btnSubmit\" \r\n                                value=\"Crear cuenta\" />\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"row mt-5 login-connect\">\r\n                <div className=\"col\">\r\n                    <GoogleAuthButton />\r\n                </div>\r\n                <div className=\"col\">\r\n                    <GithubAuthButton />\r\n                </div>\r\n            </div>\r\n                \r\n        </div>\r\n    )\r\n}","import { useEffect, useState } from 'react';\r\nimport validator from 'validator';\r\n\r\n\r\nexport const useValidate = ( initialCheckValues, initialValidationResults ) => {\r\n\r\n    // useState: valores a validar\r\n    const [ checkValues , setCheckValues ] = useState(initialCheckValues);\r\n    \r\n    // useState: resultados de las validaciones\r\n    const [ resultsValidate, setResultsValidate ] = useState(initialValidationResults); \r\n\r\n    // handleInputChange: modificacion de los datos a validar\r\n    const handleInputChange = ({ target }) => {\r\n        setCheckValues({\r\n            ...checkValues,\r\n            [ target.name ]: target.value\r\n        })\r\n    }\r\n\r\n    // Datos a validar \r\n    const { rEmail, rPassword, rPassword2 } = checkValues;\r\n\r\n    // Realizar validaciones cada que cambian los 'checkValues'\r\n    useEffect(() => {\r\n\r\n        setResultsValidate({\r\n            ...resultsValidate,\r\n            rEmailValid: validator.isEmail(rEmail),\r\n            rPasswordValid: validator.isStrongPassword(rPassword),\r\n            rPasswordValid2: validator.equals(rPassword, rPassword2),\r\n        });    \r\n        \r\n        \r\n    }, [ checkValues ]);\r\n\r\n\r\n    // [ datos a validar, modificar datos a validar, resultados de la validacion ]\r\n    return [ checkValues, handleInputChange, resultsValidate ];\r\n\r\n}\r\n","import React from 'react'\r\n\r\nexport const CalendarEvent = ({ event }) => {\r\n\r\n    const { title, user } = event;\r\n\r\n    return (\r\n        <div>\r\n            <strong>{ title }</strong>\r\n            <span> - { user.name }</span>\r\n        </div>\r\n    )\r\n}\r\n","export const customStyles = {\r\n    content: {\r\n      top: '50%',\r\n      left: '50%',\r\n      right: 'auto',\r\n      bottom: 'auto',\r\n      marginRight: '-50%',\r\n      transform: 'translate(-50%, -50%)',\r\n    },\r\n};","import { types } from \"../types/types\";\r\n\r\nexport const uiOpenModal = () => ({ type: types.uiOpenModal });\r\nexport const uiCloseModal = () => ({ type: types.uiCloseModal });","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Modal from 'react-modal';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport Swal from 'sweetalert2';\r\nimport { customStyles } from '../../helpers/modal-styles';\r\n// icons\r\nimport { AiFillSave } from 'react-icons/ai'\r\nimport { uiCloseModal } from '../../actions/ui';\r\nimport { eventSetActive, eventStartAddNew, eventStartUpdate } from '../../actions/calendar';\r\nimport moment from 'moment';\r\n\r\nimport '../../css/modal.css';\r\n\r\nModal.setAppElement('#root');\r\n\r\nconst now = moment().minutes(0).seconds(0).add(1, 'hours');\r\nconst nowPlusOne = now.clone().add(1, 'hours');\r\nconst initEvent = {\r\n    title: '',\r\n    start: now.toDate(),\r\n    end: nowPlusOne.toDate(),\r\n    notes: ''\r\n}\r\n\r\nexport const CalendarModal = () => {\r\n\r\n    // useDispatch para ejecutar las acciones\r\n    const dispatch = useDispatch();\r\n    // useSelector para obtener los datos del state\r\n    const { activeEvent } = useSelector(state => state.calendar);\r\n\r\n    // useSelector para obtener los datos del store\r\n    const { modalOpen } = useSelector(state => state.ui);\r\n\r\n    const [ , setDateStart ] = useState(now.toDate());\r\n    const [ , setEndStart ] = useState(nowPlusOne.toDate());\r\n    const [ isTitleValid, setIsTitleValid ] = useState(true);\r\n    const [ formValues, setFormValues ] = useState(initEvent);\r\n    const { title, notes, start, end } = formValues; \r\n    \r\n    useEffect(() => {\r\n        \r\n        // si hay evento activo, settearlo al form values\r\n        if (activeEvent){\r\n            setFormValues(activeEvent);\r\n        \r\n        // si no, dejarlo en los valores por defecto\r\n        } else {\r\n            setFormValues(initEvent);\r\n        }\r\n        \r\n    }, [ activeEvent, setFormValues ]);\r\n    \r\n\r\n    const closeModal = () => {\r\n        dispatch(eventSetActive(null));\r\n        dispatch(uiCloseModal());\r\n        setFormValues(initEvent);\r\n    }\r\n\r\n    const handleStartDateChange = (e) => {\r\n        setDateStart(e);\r\n        setFormValues({\r\n            ...formValues,\r\n            start: e\r\n        });\r\n    }\r\n\r\n    const handleEndDateChange = (e) => {\r\n        setEndStart(e);\r\n        setFormValues({\r\n            ...formValues,\r\n            end: e\r\n        });\r\n    }\r\n\r\n    const handleInputChange = ({ target }) => {\r\n        setFormValues({\r\n            ...formValues,\r\n            [ target.name ]: target.value\r\n        });\r\n\r\n        // actualizar validaciones de titulo\r\n        setIsTitleValid((title.trim().length < 2)? false : true);\r\n    }\r\n\r\n    const handleSubmitForm = (e) => {\r\n        e.preventDefault();\r\n        \r\n        // validaciones de las fechas del formulario\r\n        const momentStart = moment(start);\r\n        const momentEnd = moment(end);\r\n\r\n        if (momentEnd.isSameOrBefore(momentStart)) {\r\n            return Swal.fire({\r\n                icon: 'error',\r\n                title: 'Oops...',\r\n                text: 'La fecha de inicio debe ser menor a la fecha de fin',\r\n              });\r\n        }\r\n\r\n        if (title.trim().length < 2){\r\n            setIsTitleValid(false);\r\n            return;\r\n        }\r\n\r\n        //TODO: guardar nota en la base de datos\r\n        if (!activeEvent) {\r\n            dispatch(eventStartAddNew(formValues));\r\n        } \r\n        \r\n        else if (activeEvent.title === '' && activeEvent.notes === '') {\r\n            dispatch(eventStartAddNew(formValues));\r\n        }\r\n        \r\n        else {\r\n            dispatch(eventStartUpdate(formValues));\r\n        }\r\n        \r\n        setIsTitleValid(true);\r\n        closeModal();\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={ modalOpen }\r\n            // onAfterOpen={ closed => console.log('Modal abierto') }\r\n            onRequestClose={ closeModal }   // para cerrar el modal\r\n            style={ customStyles }      // estilos personalizados\r\n            className=\"modal\"       // clase modal con estilos\r\n            overlayClassName=\"modal-fondo\"  // clase para el fondo de atras el modal\r\n            closeTimeoutMS={ 200 }          // tiempo para cerrar el modal\r\n        >\r\n            <h2>\r\n                {\r\n                    (activeEvent) \r\n                    ? \r\n                    (activeEvent.title !== '' && activeEvent.notes !== '') ? 'Editar evento' : 'Nuevo evento'\r\n                    : 'Nuevo evento'\r\n                }\r\n            </h2>\r\n            <hr />\r\n            <form \r\n                className=\"container\"\r\n                onSubmit={ handleSubmitForm }\r\n            >\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Fecha y hora inicio</label>\r\n                    <DateTimePicker \r\n                        value={ start } \r\n                        className=\"form-control\"\r\n                        format=\"y-MM-dd h:mm:ss a\"\r\n                        amPmAriaLabel=\"Select am/pm\"    //  mostrar am/pm\r\n                        name=\"startDate\"\r\n                        onChange={ handleStartDateChange } // cambiar la fecha y actualizar el value\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label>Fecha y hora fin</label>\r\n                    <DateTimePicker \r\n                        value={ end }  \r\n                        className=\"form-control\"\r\n                        format=\"y-MM-dd h:mm:ss a\"\r\n                        amPmAriaLabel=\"Select am/pm\"\r\n                        // minDate={ dateStart }  validacion de la fecha minima\r\n                        onChange={ handleEndDateChange } \r\n                    />\r\n                </div>\r\n\r\n                <hr />\r\n                <div className=\"form-group\">\r\n                    <label>Titulo y notas</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        className={ `form-control ${ isTitleValid ? 'is-valid' : 'is-invalid' }` }\r\n                        placeholder=\"T칤tulo del evento\"\r\n                        name=\"title\"\r\n                        autoComplete=\"off\"\r\n                        value={ title }\r\n                        onChange={ handleInputChange }\r\n                    />\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Una descripci칩n corta</small>\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <textarea \r\n                        type=\"text\" \r\n                        className=\"form-control\"\r\n                        placeholder=\"Notas\"\r\n                        rows=\"5\"\r\n                        name=\"notes\"\r\n                        value={ notes }\r\n                        onChange={ handleInputChange }\r\n                    ></textarea>\r\n                    <small id=\"emailHelp\" className=\"form-text text-muted\">Informaci칩n adicional</small>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"submit\"\r\n                    id=\"btn-save\"\r\n                    className=\"btn btn-outline-primary btn-block\"\r\n                >\r\n                    <AiFillSave />\r\n                    <span>&nbsp;Guardar</span>\r\n                </button>\r\n\r\n            </form>\r\n        </Modal>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { IoMdLogOut } from 'react-icons/io';\r\nimport { BiUser } from 'react-icons/bi';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startLogout } from '../../actions/auth';\r\n\r\nimport '../../css/navbar.css';\r\n\r\nexport const Navbar = () => {\r\n\r\n  const { name } = useSelector(state => state.auth);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogout = () => {\r\n    dispatch(startLogout());\r\n  }\r\n\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark mb-4\">\r\n        <div className=\"navbar-brand\">\r\n            <span>{ <BiUser size=\"1.1rem\" /> }&nbsp;</span>\r\n            <span>{ name }</span>   \r\n        </div>\r\n\r\n        <button className=\"btn btn-outline-danger\" onClick={ handleLogout }>\r\n            <IoMdLogOut size=\"1.1rem\" />\r\n            <span> Salir</span>\r\n        </button>\r\n    </div>\r\n  )\r\n}\r\n","export const messages = {\r\n    allDay: 'Todo el d칤a',\r\n    previous: '<',\r\n    next: '>',\r\n    today: 'Hoy',\r\n    month: 'Mes',\r\n    week: 'Semana',\r\n    day: 'D칤a',\r\n    agenda: 'Agenda',\r\n    date: 'Fecha',\r\n    time: 'Hora',\r\n    event: 'Evento',\r\n    noEventsInRange: 'No hay eventos en este rango',\r\n    showMore: total => `+ Ver m치s (${ total })`\r\n};","\r\n// Floating Action Button\r\nimport React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { BsPlusLg } from 'react-icons/bs';\r\nimport { uiOpenModal } from '../../actions/ui';\r\nimport { eventSetActive } from '../../actions/calendar';\r\n\r\nexport const AddNewFab = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClickNew = () => {\r\n        dispatch(uiOpenModal());\r\n        dispatch(eventSetActive(null));\r\n    }\r\n\r\n    return (\r\n        <button\r\n            className=\"btn btn-primary fab\"\r\n            onClick={ handleClickNew }\r\n        >\r\n            <BsPlusLg size=\"1.3rem\" />\r\n        </button>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { AiFillDelete } from 'react-icons/ai';\r\nimport { useDispatch } from 'react-redux';\r\nimport { eventStartDelete } from '../../actions/calendar';\r\n\r\nexport const DeleteEventFab = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClickDelete = () => {\r\n        dispatch(eventStartDelete());\r\n    }\r\n\r\n    return (\r\n        <button \r\n            className=\"btn btn-danger fab-danger\"\r\n            onClick={ handleClickDelete }\r\n        >\r\n            <AiFillDelete size=\"1.3rem\" />\r\n            <span>&nbsp;Eliminar evento</span>\r\n        </button>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\r\n\r\nimport { CalendarEvent } from './CalendarEvent';\r\nimport { CalendarModal } from './CalendarModal';\r\nimport { Navbar } from '../ui/Navbar'\r\nimport { messages } from '../../helpers/calendar-messages-es';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { uiOpenModal } from '../../actions/ui';\r\nimport { eventSetActive, eventStartLoading } from '../../actions/calendar';\r\nimport { AddNewFab } from '../ui/AddNewFab';\r\nimport { DeleteEventFab } from '../ui/DeleteEventFab';\r\nimport moment from 'moment';\r\nimport 'moment/locale/es';\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport '../../css/calendar-screen.css';\r\n\r\n\r\nmoment.locale('es');\r\n\r\nconst localizer = momentLocalizer(moment);\r\n\r\n/*const events = [{\r\n    // formato de los eventos del calendario\r\n    title: 'Cumplea침os del Jefe',\r\n    start: moment().toDate(),\r\n    end: moment().add(2, 'hours').toDate(),\r\n    allDay: false,\r\n    //informacion adicional agregada por nosotros\r\n    user: {\r\n      _id: '123',\r\n      name: 'Miguel',\r\n    }\r\n}];*/\r\n\r\nexport const CalendarScreen = () => {\r\n\r\n  // useDispatch para ejecutar las acciones\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  //leer del store los eventos\r\n  const { activeEvent, events } = useSelector(state => state.calendar);\r\n  const { uid } = useSelector(state => state.auth);\r\n\r\n  const [ view, setView ] = useState(\r\n    localStorage.getItem('lastView') || 'month'\r\n  );\r\n\r\n  useEffect(() => {\r\n\r\n      dispatch(eventStartLoading());\r\n      \r\n  }, [ dispatch ]);\r\n\r\n  // eventos para gestionar el double click y seleccion de evento\r\n  const onDoubleClick = (e) => {\r\n    dispatch(uiOpenModal());  \r\n  }\r\n\r\n  const onSelectEvent = (e) => {\r\n    dispatch(eventSetActive(e));\r\n  }\r\n\r\n  const onViewChange = (e) => {\r\n    // 'e' retorna: week, day, month, agenda\r\n    setView(e);\r\n    localStorage.setItem('lastView', e);\r\n  }\r\n\r\n  const eventStyleGetter = ( event, start, end, isSelected ) => {\r\n    \r\n    const { _id } = event.user\r\n\r\n    const style = {\r\n      backgroundColor: (uid === _id) ? '#aee8ff' : '#e5e5e5',\r\n      borderRadius: '0px',\r\n      color: '#000000',\r\n      opacity: 0.8,\r\n    }\r\n\r\n    return { style };\r\n  }\r\n\r\n  const onSelectSlot = (e) => {\r\n\r\n      if (e.action === 'click') {\r\n         dispatch(eventSetActive(null));\r\n\r\n      } else {\r\n          const { start, end, title = '', notes = '' } = e;\r\n          const event = { title, start, end, notes };\r\n          dispatch(eventSetActive(event));\r\n          dispatch(uiOpenModal());\r\n      }\r\n  }\r\n\r\n  //TODO: al hacer doble click en una celda del calendario, abrir el modal para agregar un nuevo evento con la fecha seleccionada\r\n\r\n  // components={ { event: CalendarEvent } } personalizar apariencia de los eventos\r\n  // del calendariocon el componente especificado en el parametro event.\r\n  // En otras palabras, sobreescribe el evento del calendario por el componente CalendarEvent.\r\n\r\n  return (\r\n    <div className=\"calendar-screen\">\r\n        <Navbar />\r\n\r\n        <Calendar\r\n          localizer={ localizer }\r\n          events={ events }\r\n          startAccessor=\"start\"\r\n          endAccessor=\"end\"\r\n          messages={ messages }  //cambiar los mesajes a espa침ol\r\n          eventPropGetter={ eventStyleGetter }  // cambiar estilos\r\n          onSelectEvent={ onSelectEvent }  \r\n          onDoubleClickEvent={ onDoubleClick }\r\n          onView={ onViewChange }               // cambiar la vista del calendario\r\n          onSelectSlot={ onSelectSlot }        // cambiar la vista del calendario\r\n          selectable={ true }\r\n          components={{\r\n            event: CalendarEvent,   // formato del evento del calendario (evento del calendario)\r\n          }}\r\n          view= { view } // cambiar la vista del calendario en donde se quedo el usuario\r\n        />\r\n\r\n        <AddNewFab />\r\n        \r\n        {\r\n          activeEvent && <DeleteEventFab />\r\n        }\r\n\r\n        <CalendarModal />\r\n\r\n    </div>\r\n  )\r\n}\r\n","\r\nimport React from 'react';\r\nimport { MutatingDots as Icon } from  'react-loader-spinner';\r\nimport '../../css/loading.css';\r\n\r\nexport const LoadingSpinner = () => {\r\n  return (\r\n    <div className=\"loading_icon\">\r\n        <Icon\r\n            height=\"100\"\r\n            width=\"100\"\r\n            color='grey'\r\n            ariaLabel='loading'\r\n        />\r\n    </div>\r\n  )\r\n}\r\n","\r\nimport React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nexport const PrivateRoute = ({ children, uid }) => {\r\n  return !uid ? <Navigate to=\"/login\" /> : children\r\n}\r\n","\r\nimport React from 'react'\r\nimport { Navigate } from 'react-router-dom'\r\n\r\nexport const PublicRoute = ({ children, uid }) => {\r\n  return uid ? <Navigate to=\"/\" /> : children \r\n        \r\n}\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n    BrowserRouter,\r\n    Routes,\r\n    Route,\r\n} from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LoginScreen } from '../components/auth/LoginScreen';\r\nimport { CalendarScreen } from '../components/calendar/CalendarScreen';\r\nimport { startChecking } from '../actions/auth';\r\nimport { LoadingSpinner } from '../components/ui/LoadingSpinner';\r\nimport { PrivateRoute } from './PrivateRoute';\r\nimport { PublicRoute } from './PublicRoute';\r\n\r\nexport const AppRouter = () => {\r\n\r\n  const dispatch = useDispatch();\r\n  const { checking, uid } = useSelector(state => state.auth)\r\n\r\n  useEffect(() => {\r\n\r\n      dispatch(startChecking())\r\n\r\n  }, [ dispatch ]);\r\n\r\n  if (checking) {\r\n    return <LoadingSpinner />\r\n  }\r\n\r\n  return (\r\n    \r\n    <BrowserRouter>\r\n        <Routes>\r\n           { /* Login si no esta autenticado */ }\r\n            <Route path=\"/login\" element={ \r\n                <PublicRoute uid={ uid }>\r\n                    <LoginScreen /> \r\n                </PublicRoute>\r\n            } />\r\n            <Route path=\"/\" element={ \r\n                <PrivateRoute uid={ uid }>\r\n                  <CalendarScreen />\r\n                </PrivateRoute>\r\n             } />\r\n            <Route path=\"*\" element={ <LoginScreen /> } />\r\n        </Routes>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n","import { types } from '../types/types';\r\n\r\nconst initialState = {\r\n    checking: true,               // Al cargar la app verificar si esta autenticado (checking).\r\n    // uid: null, (ambos se agregan al autenticarse).\r\n    // name: null\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case types.authLogin:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                checking: false,\r\n            }\r\n\r\n        case types.authCheckingFinish:\r\n            return {\r\n                ...state,\r\n                checking: false\r\n            }\r\n\r\n        case types.authLogout:\r\n            return {\r\n                checking: false\r\n            }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","\r\nimport { types } from '../types/types';\r\n\r\n/* const initialState = {\r\n    events: [{\r\n        // formato de los eventos del calendario\r\n        id: new Date().getTime(),\r\n        title: 'Cumplea침os del Jefe',\r\n        start: moment().toDate(),\r\n        end: moment().add(2, 'hours').toDate(),\r\n        allDay: false,\r\n        //informacion adicional agregada por nosotros\r\n        user: {\r\n          _id: '123',\r\n          name: 'Miguel',\r\n        }\r\n    }],\r\n    activeEvent: null\r\n}; */\r\n\r\nconst initialState = {\r\n    events: [],\r\n    activeEvent: null\r\n}\r\n\r\nexport const calendarReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case types.eventSetActive:\r\n            return {\r\n                ...state,\r\n                activeEvent: action.payload,\r\n            }\r\n\r\n        case types.eventAddNew:\r\n            return {\r\n                ...state,\r\n                events: [...state.events, action.payload],\r\n            }\r\n        \r\n        case types.eventUpdated:\r\n            return {\r\n                ...state,\r\n                events: state.events.map(event => \r\n                    event._id === action.payload._id ? action.payload\r\n                    : event\r\n                )\r\n            }\r\n\r\n        case types.eventDeleted:\r\n            return {\r\n                ...state,\r\n                events: state.events.filter(event => event._id !== state.activeEvent._id),\r\n                activeEvent: null\r\n            }\r\n\r\n        case types.eventLoaded:\r\n            return {\r\n                ...state,\r\n                events: action.payload\r\n            }\r\n\r\n        case types.eventClear:\r\n            return {\r\n                ...initialState\r\n            }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","import { types } from '../types/types';\r\n\r\nconst initialState = {\r\n    modalOpen: false\r\n}\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case types.uiOpenModal: \r\n            return {\r\n                ...state,\r\n                modalOpen: true\r\n            };\r\n\r\n        case types.uiCloseModal:\r\n            return {\r\n                ...state,\r\n                modalOpen: false\r\n            };\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n\r\n}","import { combineReducers } from 'redux';\r\nimport { authReducer } from './authReducer';\r\nimport { calendarReducer } from './calendarReducer';\r\nimport { uiReducer } from './uiReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n    ui: uiReducer,\r\n    calendar: calendarReducer,\r\n    auth: authReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { rootReducer } from '../reducers/rootReducer';\r\nimport thunk from 'redux-thunk';\r\n\r\n// configurar herramientas de desarrollo de redux, validando si estan instaladas o no\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(\r\n        applyMiddleware(thunk)\r\n    )\r\n);\r\n\r\n\r\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { AppRouter } from './routers/AppRouter';\r\nimport { store } from './store/store';\r\n\r\nexport const CalendarApp = () => {\r\n  return (\r\n    <Provider store={ store }>\r\n        <AppRouter />\r\n    </Provider>\r\n  )\r\n}\r\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { CalendarApp } from './CalendarApp';\n\nimport './css/styles.css';\n\n\nrender(\n  <CalendarApp />,\n  document.getElementById('root')\n);"],"sourceRoot":""}